= jsw-test

Some test code for Jboss Switchyard

["plantuml", "jsw-test-class", "png"]
----

interface TestServiceRestInterface
{
	JSON info( String id )
}

class TestServiceRestInterface.Info
{
	String name
	String gender

	String getName()
	void setName( String name )

	String getGender()
	void setGender( String gender )
}

interface TestServiceRestInterface
{
	Info info( String id )
}

TestServiceRest --|> TestServiceRestInterface
TestServiceLogic --|> TestServiceLogicInterface
TestServiceRest o-- TestServiceLogic

----

== Resources

* link:https://github.com/apache/servicemix/tree/master/examples/cxf/cxf-jaxrs-blueprint[]

== ServiceMix

----
mkdir -p ~/software/sources/apache.org/servicemix/
mkdir -p ~/software/installations/
( cd ~/software/sources/apache.org/servicemix/ && wget -c http://apache.mirror.ac.za/servicemix/servicemix-5/5.1.1/apache-servicemix-5.1.1.zip )
rm -r ~/software/installations/apache-servicemix-5.1.1
unzip ~/software/sources/apache.org/servicemix/apache-servicemix-5.1.1.zip -d ~/software/installations/
rm -f ~/software/installations/apache-servicemix
ln -s ~/software/installations/apache-servicemix-5.1.1 ~/software/installations/apache-servicemix
----

----
----

----
features:addurl mvn:com.github.aucampia.jsw.test/jsw.test.osgi.asm/1.0-SNAPSHOT/xml/features
features:refreshurl mvn:com.github.aucampia.jsw.test/jsw.test.osgi.asm/1.0-SNAPSHOT/xml/features
features:list -o | grep com.github.aucampia
features:install -v com.github.aucampia.jsw.test.jsw.test.osgi.asm


osgi:update com.github.aucampia.jsw.test.jsw.test.logic.intf/1.0.0.SNAPSHOT
osgi:update com.github.aucampia.jsw.test.jsw.test.logic.comp/1.0.0.SNAPSHOT
osgi:update com.github.aucampia.jsw.test.jsw.test.rest.intf/1.0.0.SNAPSHOT
osgi:update com.github.aucampia.jsw.test.jsw.test.rest.comp/1.0.0.SNAPSHOT
osgi:update com.github.aucampia.jsw.test.jsw.test.osgi.asm/1.0.0.SNAPSHOT

osgi:refresh

osgi:restart com.github.aucampia.jsw.test.jsw.test.logic.intf/1.0.0.SNAPSHOT
osgi:restart com.github.aucampia.jsw.test.jsw.test.logic.comp/1.0.0.SNAPSHOT
osgi:restart com.github.aucampia.jsw.test.jsw.test.rest.intf/1.0.0.SNAPSHOT
osgi:restart com.github.aucampia.jsw.test.jsw.test.rest.comp/1.0.0.SNAPSHOT
osgi:restart com.github.aucampia.jsw.test.jsw.test.osgi.asm/1.0.0.SNAPSHOT

osgi:list -s -t 0
----

----
cat ~/software/installations/apache-servicemix/data/log/servicemix.log{.2,.1,} | view -

tail -F ~/software/installations/apache-servicemix/data/log/servicemix.log
tail -F ~/software/installations/apache-servicemix/data/karaf.out
tail -F ~/software/installations/apache-servicemix/data/log/wrapper.log
----

== Notes

----
ls */target/*.jar | xargs -I{} -t bsdtar -tvf {}
ls */target/*.jar | xargs -I{} -t bsdtar -xvf {} -O META-INF/MANIFEST.MF

----
